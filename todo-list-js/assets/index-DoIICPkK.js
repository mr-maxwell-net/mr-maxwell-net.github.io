(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();(function(){function p(){const c=document.getElementById("add-btn"),s=document.getElementById("task-list"),r=document.getElementById("task-input");function e(){const t=[];s.querySelectorAll("li").forEach(l=>{const o=l.querySelector("span");t.push({text:o.textContent,completed:o.classList.contains("completed")})}),localStorage.setItem("tasks",JSON.stringify(t))}function n(){const l=(JSON.parse(localStorage.getItem("tasks"))||[]).map(o=>{const i=document.createElement("li"),d=document.createElement("span"),u=document.createElement("button");return o.completed&&d.classList.add("completed"),d.innerText=o.text,u.classList.add("delete-btn"),u.innerText=" Удалить ",i.appendChild(d),i.appendChild(u),i});s.innerHTML="",s.append(...l)}function a(){const t=r.value.trim();if(!t)return;if([...s.querySelectorAll("span")].some(i=>i.textContent===t)){alert("Есть такая задачка");return}const o=document.createElement("li");o.innerHTML=`<span>${t}</span><button class="delete-btn"> Удалить </button>`,s.appendChild(o),r.value="",e()}n(),c.addEventListener("click",a),r.addEventListener("keypress",t=>{t.key==="Enter"&&a()}),s.addEventListener("click",t=>{t.target.tagName==="SPAN"?(t.target.classList.toggle("completed"),e()):t.target.classList.contains("delete-btn")&&(t.target.parentElement.remove(),e())})}document.addEventListener("DOMContentLoaded",p)})();
